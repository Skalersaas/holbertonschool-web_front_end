<!DOCTYPE html>
<html lang="en" dir="ltr">

    <head>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
        <meta charset="utf-8" />
        <title>Task 0</title>
        <script type="application/javascript">
            function createFamilyTree(){
                function createHeadRow(){
                    return "<tr><th>Firstname</th><th>Lastname</th>";
                }
                $("body").append("<table>");
                $("table").append("<thead>","<tbody>");
                $("thead").append(createHeadRow());
            }
            function addNewMember(firstName, lastName, position){
                let td = `<tr><td>${firstName}</td><td>${lastName}</td><td class="x">(x)</td></tr>`;
                if(position=="before")
                    $("tbody").prepend(td);
                else 
                    $("tbody").append(td); 
                $(".x").css("background","orange");
                $(".x").click(
                    function(){
                        $(this).closest("tr").remove();
                    }
                );
            }
            function createForm(){
                $("body").prepend(
                    $("<input>").attr({
                        type:"text"
                    }),
                    $("<input>").attr({
                        type:"text"
                    }),
                    $("<select>").attr({
                        name:"select"
                    }),
                    $("<input>").attr({
                        type:"submit",
                        id:"sub"
                    })
                );
                $("select[name='select']").append(
                    '<option value="before">Before</option>',
                    '<option value="after">After</option>'
                );
                $("#sub").click(function(){
                    addNewMember($("body input").first().val(),$("body input:nth-of-type(2)").val(),$("select[name='select']").val());
                });
            }
            
            $(document).ready(function(){
                createFamilyTree();
                createForm();
            });
        </script>
    </head>

    <body>
    </body>

</html>